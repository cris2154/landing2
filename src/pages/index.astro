---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <div class="h-[300vh]">
    <section id="seccion1" class="h-screen flex items-center justify-center bg-teal-600 text-white">
      <h2 class="text-4xl">Sección 1 – Visible al inicio</h2>
    </section>

    <section id="seccion2" class="h-screen flex items-center justify-center bg-emerald-950 text-white opacity-0 translate-y-20">
      <h2 class="text-4xl">Sección 2 – Luego entra</h2>
    </section>

    <section id="seccion3" class="h-screen flex items-center justify-center bg-purple-600 text-white opacity-0 translate-y-20">
      <h2 class="text-4xl">Sección 3 – Final</h2>
    </section>
  </div>

  <script>
    import gsap from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    const tl = gsap.timeline({
      scrollTrigger: {
            // fija sección1 durante 2 pantallas de scroll
        pin: true,
        scrub: 1
      }
    });

    // Animación de salida sección 1 (en t = 2)
    tl.to("#seccion1", { opacity: 0, y: 0, duration:6}, 4);

    // Animación de entrada sección 2 (en t = 3)
    tl.to("#seccion2", { opacity: 1, y: 0, duration: 4 }, 3);

    // Animación de salida sección 2 (en t = 7)
    tl.to("#seccion2", { opacity: 1, y: 0, duration: 4 }, 7);

    // Animación de entrada sección 3 (en t = 8)
    tl.to("#seccion3", { opacity: 1, y: 0, duration: 4}, 6);
  </script>
</Layout>
